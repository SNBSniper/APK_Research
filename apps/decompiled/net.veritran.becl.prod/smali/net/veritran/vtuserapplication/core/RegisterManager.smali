.class public Lnet/veritran/vtuserapplication/core/RegisterManager;
.super Lnet/veritran/vtuserapplication/core/LongTermPersistentData;


# static fields
.field public static final BARCODE_ENCODING_TYPE:I = 0xc0

.field public static final BARCODE_IMAGE_ID:I = 0xc1

.field public static final BARCODE_IMAGE_TYPE:I = 0xc2

.field public static final BARCODE_TEXT_TO_GENERATE:I = 0xbf

.field public static final REGISTER_ALTERNATIVE_CLIENT_ID:I = 0xe

.field public static final REGISTER_API_AVAILABILITY_ENABLED:I = 0x6b

.field public static final REGISTER_API_CALL_RESULT:I = 0x70

.field public static final REGISTER_API_CODE_TO_QUERY_FOR:I = 0x6c

.field public static final REGISTER_API_FUNCTION:I = 0x6e

.field public static final REGISTER_API_ID:I = 0x6d

.field public static final REGISTER_API_NEXT_STATE:I = 0x6f

.field public static final REGISTER_API_QUERIED_VERSION:I = 0xdc

.field public static final REGISTER_APPLICATION_BRAND:I = 0x2e

.field public static final REGISTER_APPLICATION_MODEL:I = 0x2f

.field public static final REGISTER_BANNER_CONFIGURATION_GROUP:I = 0xd

.field public static final REGISTER_CLIENT_ID:I = 0x3

.field public static final REGISTER_CLIENT_ID_TYPE:I = 0x2

.field public static final REGISTER_CLIENT_KEY:I = 0x4

.field public static final REGISTER_CONFIGURATION_GROUP:I = 0x7

.field public static final REGISTER_CURRENT_CONNECTION_TYPE_CODE:I = 0xdd

.field public static final REGISTER_CURRENT_CONNECTION_TYPE_DESCRIPTION:I = 0xde

.field public static final REGISTER_CURRENT_COUNTRY:I = 0x89

.field public static final REGISTER_CURRENT_LANGUAGE:I = 0x8a

.field public static final REGISTER_CURRENT_LANGUAGE_DESCRIPTION:I = 0x8b

.field public static final REGISTER_DEFAULT_ENCODING:I = 0x66

.field public static final REGISTER_DELTA_TO_FORCE_SYNCHRO:I = 0x161

.field public static final REGISTER_DELTA_TO_TRY_SYNCHRO:I = 0x160

.field public static final REGISTER_DEVICE_BRAND:I = 0x30

.field public static final REGISTER_DEVICE_IDENTIFIER:I = 0x32

.field public static final REGISTER_DEVICE_INFORMATION:I = 0x27

.field public static final REGISTER_DEVICE_MODEL:I = 0x31

.field public static final REGISTER_FINANCIAL_INSTITUTION_CODE:I = 0x1

.field public static final REGISTER_FINANCIAL_INSTITUTION_LONG_NAME:I = 0xf

.field public static final REGISTER_FINANCIAL_INSTITUTION_NAME:I = 0x9

.field public static final REGISTER_FLAG_APPLICATION_TESTING_MODE:I = 0xdb

.field public static final REGISTER_NEW_CLIENT_KEY:I = 0x5

.field public static final REGISTER_NEXT_LANGUAGE:I = 0x86

.field public static final REGISTER_NEXT_LANGUAGE_DESCRIPTION:I = 0x87

.field public static final REGISTER_REPEATED_NEW_CLIENT_KEY:I = 0x6

.field public static final REGISTER_TERMINAL_ID:I = 0xda

.field public static final REGISTER_TRANSACTION_CODE:I = 0x0

.field public static final SMS_REGISTER_ADDRESS:I = 0x94

.field public static final SMS_REGISTER_PORT:I = 0x95

.field public static final SMS_REGISTER_REGISTERS_CHAIN:I = 0x93

.field public static final TOKEN_SESSION_OVERRIDE:I = 0x8c

.field public static final VASCO_REGISTER_ACTIVATION_CODE_1:I = 0xb9

.field public static final VASCO_REGISTER_ACTIVATION_CODE_2:I = 0xba

.field public static final VASCO_REGISTER_CHALLENGE:I = 0xbc

.field public static final VASCO_REGISTER_CHS:I = 0xb3

.field public static final VASCO_REGISTER_IDENTIFIER:I = 0xb5

.field public static final VASCO_REGISTER_NEW_PIN:I = 0xbd

.field public static final VASCO_REGISTER_NEW_PIN_CONFIRMATION:I = 0xbe

.field public static final VASCO_REGISTER_OTP:I = 0xb7

.field public static final VASCO_REGISTER_PIN:I = 0xb8

.field public static final VASCO_REGISTER_REMAINING_TRIES:I = 0xd5

.field public static final VASCO_REGISTER_SERIAL_NUMBER:I = 0xbb

.field public static final VASCO_REGISTER_SERVER_TIME:I = 0xb6

.field public static final VASCO_REGISTER_STATUS:I = 0xd4

.field public static final VASCO_REGISTER_XFAD:I = 0xb4

.field public static final VTAPIHCE_DEFAULT_HCE_PAYMENT_APP:I = 0xf3

.field public static final VTAPIHCE_HCE_READY:I = 0xf1

.field public static final VTAPIHCE_IS_ENROLLED:I = 0x103

.field public static final VTAPIHCE_NFC_ON:I = 0xf2

.field public static final VTAPIHCE_READY_TO_PAY_RESULT:I = 0xf4

.field public static final VTAPI_HCE_AID:I = 0x175

.field public static final VTAPI_HCE_AVAILABLE_SECONDS:I = 0x174

.field public static final VTAPI_HCE_BRAND:I = 0x171

.field public static final VTAPI_HCE_BRAND_ARRAY_ID:I = 0x166

.field public static final VTAPI_HCE_CARD_NUMBER:I = 0x16d

.field public static final VTAPI_HCE_COUNTRY_CODE:I = 0x176

.field public static final VTAPI_HCE_CURRENCY_CODE:I = 0x17a

.field public static final VTAPI_HCE_CVM_TYPE:I = 0x16b

.field public static final VTAPI_HCE_CVV:I = 0x16e

.field public static final VTAPI_HCE_DC_ID:I = 0x16a

.field public static final VTAPI_HCE_DEVICE_FUNCTION:I = 0x165

.field public static final VTAPI_HCE_ENROLLED_ARRAY_ID:I = 0x169

.field public static final VTAPI_HCE_EXPIRATION_DATE:I = 0x170

.field public static final VTAPI_HCE_MODE:I = 0x173

.field public static final VTAPI_HCE_MODE_ARRAY_ID:I = 0x168

.field public static final VTAPI_HCE_PAN_SQ_CODE:I = 0x16c

.field public static final VTAPI_HCE_PRODUCT:I = 0x172

.field public static final VTAPI_HCE_PRODUCT_ARRAY_ID:I = 0x167

.field public static final VTAPI_HCE_READY_TO_PAY_NEXT_ACTION:I = 0x177

.field public static final VTAPI_HCE_SERVICE_CODE:I = 0x16f

.field public static final VTAPI_PROPERTY_GET_VALUE:I = 0xe6

.field public static final VTAPI_PROPERTY_ID:I = 0x14b

.field public static final VTAPI_PROPERTY_SET_VALUE:I = 0x14a

.field public static final VTAPI_PUSH_DATA:I = 0xe9

.field public static final VTAPI_PUSH_REGISTRATION_ID:I = 0xe8

.field public static final VTAPI_PUSH_REGISTRATION_PLATFORM:I = 0xea

.field public static final VTAPI_PUSH_SENDER:I = 0x150

.field public static final VTAPI_PUSH_STATUS:I = 0xe7

.field public static final VTAPI_QR_DECODED_TEXT:I = 0x14f

.field public static final VTAPI_QR_FORMATS:I = 0x164

.field public static final VTAPI_QR_GENERATED_IMAGE:I = 0x14d

.field public static final VTAPI_QR_READ_TIMEOUT:I = 0x14e

.field public static final VTAPI_QR_TEXT_TO_ENCODE:I = 0x14c

.field public static final VTCARDDATA_ACCOUNTTYPE:I = 0x139

.field public static final VTCARDDATA_BIN:I = 0x136

.field public static final VTCARDDATA_CLIENTID:I = 0x137

.field public static final VTCARDDATA_DV:I = 0x148

.field public static final VTCARDDATA_EXPIRATIONDATE_FORMATTED:I = 0x13d

.field public static final VTCARDDATA_EXPIRATIONDATE_PLAIN:I = 0x13c

.field public static final VTCARDDATA_EXPIRATION_YEARS_TO_ADD:I = 0x144

.field public static final VTCARDDATA_FIELD_DISPOSITION:I = 0x146

.field public static final VTCARDDATA_FUNC_HASH:I = 0x147

.field public static final VTCARDDATA_IMAGE_CODES_LIST:I = 0x141

.field public static final VTCARDDATA_IMAGE_CODE_SELECTED:I = 0x142

.field public static final VTCARDDATA_IMAGE_FONT_COLOR:I = 0x15a

.field public static final VTCARDDATA_IMAGE_ID:I = 0x140

.field public static final VTCARDDATA_IMAGE_NAME_PERCENT_LENGTH:I = 0x15b

.field public static final VTCARDDATA_NUMBER_FORMATTED:I = 0x13b

.field public static final VTCARDDATA_NUMBER_PLAIN:I = 0x13a

.field public static final VTCARDDATA_OTP:I = 0x138

.field public static final VTCARDDATA_OWNER_NAME:I = 0x13f

.field public static final VTCARDDATA_PASSPHRASE:I = 0x149

.field public static final VTCARDDATA_SECURITY_CODE:I = 0x13e

.field public static final VTCARDDATA_XBIN:I = 0x145

.field public static final VTCARDREADERAPI_READ_TIMEOUT:I = 0x17b

.field public static final VTCARDREADER_CARD_NUMBER_RECEIVED:I = 0xfd

.field public static final VTDIALER_AVAILABLE_FLAG:I = 0xb2

.field public static final VTDIALER_PHONE_NUMBER_TO_DIAL:I = 0xaf

.field public static final VTFACERECOGNITION_API_STATUS:I = 0x100

.field public static final VTFINGERPRINTAPI_AUTHENTICATE_SUBTITLE:I = 0x17e

.field public static final VTFINGERPRINTAPI_AUTHENTICATE_TITLE:I = 0x17d

.field public static final VTFINGERPRINT_SET_OF_FINGERPRINTS_ID:I = 0xfe

.field public static final VTLOCALPASSW_CLEAR_ARRAYS_LIST:I = 0x134

.field public static final VTLOCALPASSW_CLEAR_TOKENS_LIST:I = 0x133

.field public static final VTLOCALPASSW_TOKEN_CLEAR_PASS:I = 0x12f

.field public static final VTLOCALPASSW_TOKEN_DENIED_TRIES_TO_OPEN_INTERNAL_REPOSITORY:I = 0xe1

.field public static final VTLOCALPASSW_TOKEN_MAX_PASSWORD_RETRIES:I = 0x130

.field public static final VTLOCALPASSW_TOKEN_NEW_PASSWORD:I = 0x12d

.field public static final VTLOCALPASSW_TOKEN_NEW_PASSWORD_CONFIRMATION:I = 0x12e

.field public static final VTLOCALPASSW_TOKEN_PASSWORD:I = 0x12c

.field public static final VTLOCALPASSW_TOKEN_PASSWORD_SET:I = 0xdf

.field public static final VTLOCALPASSW_TOKEN_PASSWORD_STRENGTH:I = 0x131

.field public static final VTLOCALPASSW_TOKEN_PASSWORD_WEIGHTS:I = 0x132

.field public static final VTLOCALPASSW_TOKEN_REMAINING_TRIES_TO_OPEN_INTERNAL_REPOSITORY:I = 0xe0

.field public static final VTLOCATION_API_ACCURACY:I = 0xc7

.field public static final VTLOCATION_API_ALTITUDE:I = 0xd8

.field public static final VTLOCATION_API_AVAILABLE_FLAG:I = 0xc3

.field public static final VTLOCATION_API_LATITUDE:I = 0xd6

.field public static final VTLOCATION_API_LONGITUDE:I = 0xd7

.field public static final VTLOCATION_API_MSG_GETTING_LOCATION:I = 0xae

.field public static final VTLOCATION_API_REPETITIONS:I = 0xc5

.field public static final VTLOCATION_API_TIMEFORMATTED:I = 0xeb

.field public static final VTLOCATION_API_TIMEOUT:I = 0xc4

.field public static final VTLOCATION_API_TIMESTAMP:I = 0xd9

.field public static final VTLOCATION_API_UPDATE_STATE:I = 0xc6

.field public static final VTMAP_AVAILABLE_FLAG:I = 0xb1

.field public static final VTMAP_REGISTER_MAP_URL:I = 0xb0

.field public static final VTMOBILECARDREADER_STATUS:I = 0x0

.field public static final VTNFCAPI_FINISHED_ACTION_RECEIVE:I = 0x157

.field public static final VTNFCAPI_STATUS:I = 0xed

.field public static final VTNFCAPI_TEXT_RECEIVED:I = 0xee

.field public static final VTNFCAPI_TEXT_TO_SEND:I = 0x153

.field public static final VTNFCAPI_TIMEOUT_ACTION_SEND:I = 0x156

.field public static final VTNFCAPI_TIMEOUT_TO_RECEIVE:I = 0x154

.field public static final VTNFCAPI_TIMEOUT_TO_SEND:I = 0x155

.field public static final VTPHOTOAPI_IMAGE_ID:I = 0x17c

.field public static final VTPHOTO_API_PERMISSION_CAMERA:I = 0x102

.field public static final VTPHOTO_API_STATUS_CAMERA:I = 0x101

.field public static final VTPUSHAPI_BADGE_NUMBER:I = 0x151

.field public static final VTPUSHAPI_BADGE_NUMBER_GET:I = 0xec

.field public static final VTPUSHAPI_BADGE_NUMBER_INCREMENT:I = 0x152

.field public static final VTPUSHAPI_CHANNEL_NAME:I = 0x158

.field public static final VTPUSHAPI_SERVICE_NAME:I = 0x159

.field public static final VTSHAREAPI_MESSAGE_TO_SHARE:I = 0x15d

.field public static final VTSHAREAPI_SHARE_ALLOWED_APP:I = 0x163

.field public static final VTSHAREAPI_SHARE_BACKGROUND_COLOR:I = 0x162

.field public static final VTSHAREAPI_SHARE_TYPE:I = 0x15f

.field public static final VTSHAREAPI_STATUS:I = 0xf0

.field public static final VTSHAREAPI_VISUAL_AREA_TO_SHARE:I = 0x15e

.field public static final VTTHEME_ID:I = 0x9e

.field public static final VTTOKENSTATE_TOKEN_ACTIVATED_NUMBER:I = 0xce

.field public static final VTTOKENSTATE_TOKEN_ACTUAL_SEED:I = 0x84

.field public static final VTTOKENSTATE_TOKEN_CHALLENGE:I = 0x76

.field public static final VTTOKENSTATE_TOKEN_CLEAR_PASS:I = 0x7d

.field public static final VTTOKENSTATE_TOKEN_CRC_VERIFICATION:I = 0x8d

.field public static final VTTOKENSTATE_TOKEN_CRYPTO_FUNCTION_MODE:I = 0x77

.field public static final VTTOKENSTATE_TOKEN_DATA_OFFLINE_SYNCHRO:I = 0xd3

.field public static final VTTOKENSTATE_TOKEN_DENIED_TRIES_TO_OPEN_INTERNAL_REPOSITORY:I = 0xd1

.field public static final VTTOKENSTATE_TOKEN_FUNCTION_RESULT:I = 0x7b

.field public static final VTTOKENSTATE_TOKEN_INTERNAL_FLAG:I = 0x7c

.field public static final VTTOKENSTATE_TOKEN_MAX_PASSWORD_RETRIES:I = 0x7e

.field public static final VTTOKENSTATE_TOKEN_NEGATIVE_VALIDATION_COUNTER:I = 0xd2

.field public static final VTTOKENSTATE_TOKEN_NEW_PASSWORD:I = 0x72

.field public static final VTTOKENSTATE_TOKEN_NEW_PASSWORD_CONFIRMATION:I = 0x73

.field public static final VTTOKENSTATE_TOKEN_NEW_SEED:I = 0x75

.field public static final VTTOKENSTATE_TOKEN_PASSWORD:I = 0x71

.field public static final VTTOKENSTATE_TOKEN_PASSWORD_SET:I = 0xcd

.field public static final VTTOKENSTATE_TOKEN_PASSWORD_STRENGTH:I = 0x91

.field public static final VTTOKENSTATE_TOKEN_PASSWORD_WEIGHTS:I = 0x92

.field public static final VTTOKENSTATE_TOKEN_PIN:I = 0x79

.field public static final VTTOKENSTATE_TOKEN_PIN_FIXED:I = 0x85

.field public static final VTTOKENSTATE_TOKEN_PSW_VALIDATE:I = 0x81

.field public static final VTTOKENSTATE_TOKEN_REFERENCE:I = 0x78

.field public static final VTTOKENSTATE_TOKEN_REMAINING_TRIES_TO_OPEN_INTERNAL_REPOSITORY:I = 0xd0

.field public static final VTTOKENSTATE_TOKEN_REQUIRED:I = 0x7f

.field public static final VTTOKENSTATE_TOKEN_RESTORE_BACKUP_DATA:I = 0x83

.field public static final VTTOKENSTATE_TOKEN_RESTORE_BACKUP_RESPONSE:I = 0x82

.field public static final VTTOKENSTATE_TOKEN_SERIAL_NUMBER:I = 0x74

.field public static final VTTOKENSTATE_TOKEN_SESSION_DATA_UNCHANGED:I = 0x8e

.field public static final VTTOKENSTATE_TOKEN_SESSION_INFO:I = 0x7a

.field public static final VTTOKENSTATE_TOKEN_TOTP_LEFT_INTERVAL:I = 0x8f

.field public static final VTTOKENSTATE_TOKEN_TOTP_RIGHT_INTERVAL:I = 0x90

.field public static final VTTOKENSTATE_TOKEN_VALIDATION_FORWARD_THROTTLE:I = 0x80

.field public static final VTUSERAPPLICATION_ERROR_CODE:I = 0xc8

.field public static final VTUSERAPPLICATION_ERROR_DESCRIPTION:I = 0xc9

.field public static final VTUSERAPPLICATION_ERROR_SYSTEM_DESCRIPTION:I = 0xca


# instance fields
.field private a:[I

.field private b:[I

.field private c:[I

.field private d:[I

.field private e:Lnet/veritran/vtuserapplication/persistence/RegisterRepository;

.field private f:Ljava/util/Hashtable;

.field private g:Ljava/util/Hashtable;


# direct methods
.method public constructor <init>(Lnet/veritran/vtuserapplication/persistence/RegisterRepository;)V
    .locals 3

    invoke-direct {p0}, Lnet/veritran/vtuserapplication/core/LongTermPersistentData;-><init>()V

    const/16 v0, 0x10

    new-array v0, v0, [I

    fill-array-data v0, :array_0

    iput-object v0, p0, Lnet/veritran/vtuserapplication/core/RegisterManager;->a:[I

    const/4 v0, 0x6

    new-array v0, v0, [I

    fill-array-data v0, :array_1

    iput-object v0, p0, Lnet/veritran/vtuserapplication/core/RegisterManager;->b:[I

    const/16 v0, 0xc

    new-array v0, v0, [I

    fill-array-data v0, :array_2

    iput-object v0, p0, Lnet/veritran/vtuserapplication/core/RegisterManager;->c:[I

    const/4 v0, 0x1

    new-array v0, v0, [I

    const/4 v1, 0x0

    const/16 v2, 0xea

    aput v2, v0, v1

    iput-object v0, p0, Lnet/veritran/vtuserapplication/core/RegisterManager;->d:[I

    new-instance v0, Ljava/util/Hashtable;

    invoke-direct {v0}, Ljava/util/Hashtable;-><init>()V

    iput-object v0, p0, Lnet/veritran/vtuserapplication/core/RegisterManager;->f:Ljava/util/Hashtable;

    new-instance v0, Ljava/util/Hashtable;

    invoke-direct {v0}, Ljava/util/Hashtable;-><init>()V

    iput-object v0, p0, Lnet/veritran/vtuserapplication/core/RegisterManager;->g:Ljava/util/Hashtable;

    iput-object p1, p0, Lnet/veritran/vtuserapplication/core/RegisterManager;->e:Lnet/veritran/vtuserapplication/persistence/RegisterRepository;

    return-void

    :array_0
    .array-data 4
        0x1
        0x2
        0x3
        0x4
        0x7
        0x9
        0xd
        0xf
        0x7d
        0x71
        0x7f
        0xcd
        0xce
        0x12f
        0x12c
        0xdf
    .end array-data

    :array_1
    .array-data 4
        0x74
        0x75
        0x84
        0xb1
        0xb2
        0x6b
    .end array-data

    :array_2
    .array-data 4
        0xd0
        0xd1
        0x89
        0x8a
        0x8b
        0x85
        0xe0
        0xe1
        0xe8
        0x150
        0x160
        0x161
    .end array-data
.end method

.method private a(I)Z
    .locals 1

    iget-object v0, p0, Lnet/veritran/vtuserapplication/core/RegisterManager;->b:[I

    invoke-static {p1, v0}, Lnet/veritran/vtuserapplication/core/RegisterManager;->a(I[I)Z

    move-result v0

    return v0
.end method

.method private static a(I[I)Z
    .locals 3

    const/4 v1, 0x0

    move v0, v1

    :goto_0
    array-length v2, p1

    if-ge v0, v2, :cond_0

    aget v2, p1, v0

    if-ne p0, v2, :cond_1

    const/4 v1, 0x1

    :cond_0
    return v1

    :cond_1
    add-int/lit8 v0, v0, 0x1

    goto :goto_0
.end method


# virtual methods
.method public add(Lnet/veritran/vtuserapplication/core/elements/TokenElement;)V
    .locals 6

    const/4 v2, 0x1

    const/4 v0, 0x0

    iget-object v1, p0, Lnet/veritran/vtuserapplication/core/RegisterManager;->a:[I

    array-length v3, v1

    move v1, v0

    :goto_0
    if-ge v0, v3, :cond_1

    if-nez v1, :cond_1

    invoke-virtual {p1}, Lnet/veritran/vtuserapplication/core/elements/TokenElement;->getId()I

    move-result v4

    iget-object v5, p0, Lnet/veritran/vtuserapplication/core/RegisterManager;->a:[I

    aget v5, v5, v0

    if-ne v4, v5, :cond_0

    invoke-virtual {p1, v2}, Lnet/veritran/vtuserapplication/core/elements/TokenElement;->setPersistent(Z)V

    move v1, v2

    goto :goto_0

    :cond_0
    add-int/lit8 v0, v0, 0x1

    goto :goto_0

    :cond_1
    invoke-virtual {p1}, Lnet/veritran/vtuserapplication/core/elements/TokenElement;->getId()I

    move-result v0

    invoke-virtual {p0, v0}, Lnet/veritran/vtuserapplication/core/RegisterManager;->isLongTermPersistent(I)Z

    move-result v0

    if-eqz v0, :cond_5

    const-string v0, "RegisterManager"

    new-instance v1, Ljava/lang/StringBuilder;

    const-string v2, "TokensStorage::add ( "

    invoke-direct {v1, v2}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V

    invoke-virtual {p1}, Lnet/veritran/vtuserapplication/core/elements/TokenElement;->getId()I

    move-result v2

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v2, ") - Value: ["

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {p1}, Lnet/veritran/vtuserapplication/core/elements/TokenElement;->getValue()Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v2, "]"

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-static {v0, v1}, Lnet/veritran/vtuserapplication/utils/VTLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    invoke-virtual {p1}, Lnet/veritran/vtuserapplication/core/elements/TokenElement;->getValue()Ljava/lang/String;

    move-result-object v0

    invoke-virtual {v0}, Ljava/lang/String;->trim()Ljava/lang/String;

    move-result-object v0

    invoke-virtual {v0}, Ljava/lang/String;->length()I

    move-result v0

    if-nez v0, :cond_3

    iget-object v0, p0, Lnet/veritran/vtuserapplication/core/RegisterManager;->e:Lnet/veritran/vtuserapplication/persistence/RegisterRepository;

    invoke-virtual {p1}, Lnet/veritran/vtuserapplication/core/elements/TokenElement;->getId()I

    move-result v1

    invoke-virtual {v0, v1}, Lnet/veritran/vtuserapplication/persistence/RegisterRepository;->removeRegister(I)V

    invoke-virtual {p1}, Lnet/veritran/vtuserapplication/core/elements/TokenElement;->getId()I

    move-result v0

    invoke-virtual {p0, v0}, Lnet/veritran/vtuserapplication/core/RegisterManager;->deleteStorageElement(I)V

    :cond_2
    :goto_1
    return-void

    :cond_3
    invoke-virtual {p1}, Lnet/veritran/vtuserapplication/core/elements/TokenElement;->getId()I

    move-result v0

    invoke-virtual {p0, v0}, Lnet/veritran/vtuserapplication/core/RegisterManager;->get(I)Lnet/veritran/vtuserapplication/core/elements/TokenElement;

    move-result-object v0

    if-eqz v0, :cond_4

    invoke-virtual {v0}, Lnet/veritran/vtuserapplication/core/elements/TokenElement;->serialize()Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1}, Lnet/veritran/vtuserapplication/core/elements/TokenElement;->serialize()Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0

    if-nez v0, :cond_2

    :cond_4
    iget-object v0, p0, Lnet/veritran/vtuserapplication/core/RegisterManager;->e:Lnet/veritran/vtuserapplication/persistence/RegisterRepository;

    invoke-virtual {p1, v0}, Lnet/veritran/vtuserapplication/core/elements/TokenElement;->setRepositoryInterfaceListener(Lnet/veritran/vtuserapplication/persistence/SerializableRepositoryElementInterface;)V

    iget-object v0, p0, Lnet/veritran/vtuserapplication/core/RegisterManager;->e:Lnet/veritran/vtuserapplication/persistence/RegisterRepository;

    invoke-virtual {p1}, Lnet/veritran/vtuserapplication/core/elements/TokenElement;->getId()I

    move-result v1

    invoke-virtual {p1}, Lnet/veritran/vtuserapplication/core/elements/TokenElement;->serialize()Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Lnet/veritran/vtuserapplication/persistence/RegisterRepository;->storeRegister(ILjava/lang/String;)V

    const-string v0, "RegisterManager"

    new-instance v1, Ljava/lang/StringBuilder;

    const-string v2, "TokensStorage::added ( "

    invoke-direct {v1, v2}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V

    invoke-virtual {p1}, Lnet/veritran/vtuserapplication/core/elements/TokenElement;->getId()I

    move-result v2

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v2, ") - Value: ["

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {p1}, Lnet/veritran/vtuserapplication/core/elements/TokenElement;->getValue()Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v2, "]"

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-static {v0, v1}, Lnet/veritran/vtuserapplication/utils/VTLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    :cond_5
    invoke-virtual {p0, p1}, Lnet/veritran/vtuserapplication/core/RegisterManager;->addStorageElement(Lnet/veritran/vtuserapplication/core/elements/StorageElement;)V

    goto :goto_1
.end method

.method public debug()V
    .locals 5

    iget-object v0, p0, Lnet/veritran/vtuserapplication/core/RegisterManager;->_storageElement:Ljava/util/Hashtable;

    invoke-virtual {v0}, Ljava/util/Hashtable;->elements()Ljava/util/Enumeration;

    move-result-object v1

    :cond_0
    :goto_0
    invoke-interface {v1}, Ljava/util/Enumeration;->hasMoreElements()Z

    move-result v0

    if-eqz v0, :cond_1

    invoke-interface {v1}, Ljava/util/Enumeration;->nextElement()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lnet/veritran/vtuserapplication/core/elements/TokenElement;

    if-eqz v0, :cond_0

    const-string v2, "RegisterManager"

    new-instance v3, Ljava/lang/StringBuilder;

    const-string v4, "id:"

    invoke-direct {v3, v4}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V

    invoke-virtual {v0}, Lnet/veritran/vtuserapplication/core/elements/TokenElement;->getId()I

    move-result v4

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v4, " ["

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v0}, Lnet/veritran/vtuserapplication/core/elements/TokenElement;->getValue()Ljava/lang/String;

    move-result-object v0

    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    const-string v3, "]"

    invoke-virtual {v0, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-static {v2, v0}, Lnet/veritran/vtuserapplication/utils/VTLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    goto :goto_0

    :cond_1
    return-void
.end method

.method public deleteAll()V
    .locals 0

    return-void
.end method

.method public deleteAll(Z)V
    .locals 3

    iget-object v0, p0, Lnet/veritran/vtuserapplication/core/RegisterManager;->_storageElement:Ljava/util/Hashtable;

    invoke-virtual {v0}, Ljava/util/Hashtable;->elements()Ljava/util/Enumeration;

    move-result-object v1

    :cond_0
    :goto_0
    invoke-interface {v1}, Ljava/util/Enumeration;->hasMoreElements()Z

    move-result v0

    if-eqz v0, :cond_2

    invoke-interface {v1}, Ljava/util/Enumeration;->nextElement()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lnet/veritran/vtuserapplication/core/elements/TokenElement;

    if-nez p1, :cond_1

    invoke-virtual {v0}, Lnet/veritran/vtuserapplication/core/elements/TokenElement;->isPersistent()Z

    move-result v2

    if-nez v2, :cond_0

    :cond_1
    invoke-virtual {v0}, Lnet/veritran/vtuserapplication/core/elements/TokenElement;->getId()I

    move-result v2

    invoke-direct {p0, v2}, Lnet/veritran/vtuserapplication/core/RegisterManager;->a(I)Z

    move-result v2

    if-nez v2, :cond_0

    invoke-virtual {v0}, Lnet/veritran/vtuserapplication/core/elements/TokenElement;->getId()I

    move-result v2

    invoke-virtual {p0, v2}, Lnet/veritran/vtuserapplication/core/RegisterManager;->isLongTermPersistent(I)Z

    move-result v2

    if-nez v2, :cond_0

    invoke-virtual {v0}, Lnet/veritran/vtuserapplication/core/elements/TokenElement;->getId()I

    move-result v0

    invoke-virtual {p0, v0}, Lnet/veritran/vtuserapplication/core/RegisterManager;->deleteStorageElement(I)V

    goto :goto_0

    :cond_2
    return-void
.end method

.method public deleteAll([I)V
    .locals 5

    new-instance v2, Ljava/util/Hashtable;

    invoke-direct {v2}, Ljava/util/Hashtable;-><init>()V

    if-eqz p1, :cond_1

    const/4 v0, 0x0

    move v1, v0

    :goto_0
    array-length v0, p1

    if-ge v1, v0, :cond_1

    iget-object v0, p0, Lnet/veritran/vtuserapplication/core/RegisterManager;->_storageElement:Ljava/util/Hashtable;

    new-instance v3, Ljava/lang/Integer;

    aget v4, p1, v1

    invoke-direct {v3, v4}, Ljava/lang/Integer;-><init>(I)V

    invoke-virtual {v0, v3}, Ljava/util/Hashtable;->get(Ljava/lang/Object;)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lnet/veritran/vtuserapplication/core/elements/StorageElement;

    if-eqz v0, :cond_0

    new-instance v3, Ljava/lang/Integer;

    invoke-virtual {v0}, Lnet/veritran/vtuserapplication/core/elements/StorageElement;->getId()I

    move-result v4

    invoke-direct {v3, v4}, Ljava/lang/Integer;-><init>(I)V

    invoke-virtual {v2, v3, v0}, Ljava/util/Hashtable;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    :cond_0
    add-int/lit8 v0, v1, 0x1

    move v1, v0

    goto :goto_0

    :cond_1
    iget-object v0, p0, Lnet/veritran/vtuserapplication/core/RegisterManager;->_storageElement:Ljava/util/Hashtable;

    invoke-virtual {v0}, Ljava/util/Hashtable;->elements()Ljava/util/Enumeration;

    move-result-object v1

    :cond_2
    :goto_1
    invoke-interface {v1}, Ljava/util/Enumeration;->hasMoreElements()Z

    move-result v0

    if-eqz v0, :cond_4

    invoke-interface {v1}, Ljava/util/Enumeration;->nextElement()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lnet/veritran/vtuserapplication/core/elements/TokenElement;

    invoke-virtual {v0}, Lnet/veritran/vtuserapplication/core/elements/TokenElement;->getId()I

    move-result v3

    invoke-virtual {p0, v3}, Lnet/veritran/vtuserapplication/core/RegisterManager;->isLongTermPersistent(I)Z

    move-result v3

    if-nez v3, :cond_3

    invoke-virtual {v0}, Lnet/veritran/vtuserapplication/core/elements/TokenElement;->isPersistent()Z

    move-result v3

    if-nez v3, :cond_3

    invoke-virtual {v0}, Lnet/veritran/vtuserapplication/core/elements/TokenElement;->getId()I

    move-result v3

    invoke-direct {p0, v3}, Lnet/veritran/vtuserapplication/core/RegisterManager;->a(I)Z

    move-result v3

    if-eqz v3, :cond_2

    :cond_3
    new-instance v3, Ljava/lang/Integer;

    invoke-virtual {v0}, Lnet/veritran/vtuserapplication/core/elements/TokenElement;->getId()I

    move-result v4

    invoke-direct {v3, v4}, Ljava/lang/Integer;-><init>(I)V

    invoke-virtual {v2, v3, v0}, Ljava/util/Hashtable;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    goto :goto_1

    :cond_4
    iput-object v2, p0, Lnet/veritran/vtuserapplication/core/RegisterManager;->_storageElement:Ljava/util/Hashtable;

    return-void
.end method

.method public deleteStorageElement(I)V
    .locals 1

    invoke-super {p0, p1}, Lnet/veritran/vtuserapplication/core/LongTermPersistentData;->deleteStorageElement(I)V

    invoke-virtual {p0, p1}, Lnet/veritran/vtuserapplication/core/RegisterManager;->isLongTermPersistent(I)Z

    move-result v0

    if-eqz v0, :cond_0

    iget-object v0, p0, Lnet/veritran/vtuserapplication/core/RegisterManager;->e:Lnet/veritran/vtuserapplication/persistence/RegisterRepository;

    invoke-virtual {v0, p1}, Lnet/veritran/vtuserapplication/persistence/RegisterRepository;->removeRegister(I)V

    :cond_0
    return-void
.end method

.method public get(I)Lnet/veritran/vtuserapplication/core/elements/TokenElement;
    .locals 4

    iget-object v0, p0, Lnet/veritran/vtuserapplication/core/RegisterManager;->d:[I

    invoke-static {p1, v0}, Lnet/veritran/vtuserapplication/core/RegisterManager;->a(I[I)Z

    move-result v0

    if-eqz v0, :cond_1

    invoke-virtual {p0, p1}, Lnet/veritran/vtuserapplication/core/RegisterManager;->getFixedDefinedRegister(I)Lnet/veritran/vtuserapplication/core/elements/TokenElement;

    move-result-object v0

    :cond_0
    :goto_0
    return-object v0

    :cond_1
    invoke-virtual {p0, p1}, Lnet/veritran/vtuserapplication/core/RegisterManager;->getStorageElement(I)Lnet/veritran/vtuserapplication/core/elements/StorageElement;

    move-result-object v0

    check-cast v0, Lnet/veritran/vtuserapplication/core/elements/TokenElement;

    if-nez v0, :cond_0

    invoke-virtual {p0, p1}, Lnet/veritran/vtuserapplication/core/RegisterManager;->isLongTermPersistent(I)Z

    move-result v1

    if-eqz v1, :cond_0

    const-string v0, "RegisterManager"

    new-instance v1, Ljava/lang/StringBuilder;

    const-string v2, "TokensStorage::get("

    invoke-direct {v1, v2}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V

    invoke-virtual {v1, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v2, ")"

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-static {v0, v1}, Lnet/veritran/vtuserapplication/utils/VTLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    iget-object v0, p0, Lnet/veritran/vtuserapplication/core/RegisterManager;->e:Lnet/veritran/vtuserapplication/persistence/RegisterRepository;

    invoke-virtual {v0, p1}, Lnet/veritran/vtuserapplication/persistence/RegisterRepository;->getRegister(I)Ljava/lang/String;

    move-result-object v0

    const-string v1, "RegisterManager"

    new-instance v2, Ljava/lang/StringBuilder;

    const-string v3, "TokensStorage::get("

    invoke-direct {v2, v3}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V

    invoke-virtual {v2, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v2

    const-string v3, ") ["

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    const-string v3, "]"

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-static {v1, v2}, Lnet/veritran/vtuserapplication/utils/VTLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    if-nez v0, :cond_2

    const/4 v0, 0x0

    goto :goto_0

    :cond_2
    invoke-static {v0}, Lnet/veritran/vtuserapplication/core/elements/TokenElement;->getInstance(Ljava/lang/String;)Lnet/veritran/vtuserapplication/core/elements/TokenElement;

    move-result-object v0

    iget-object v1, p0, Lnet/veritran/vtuserapplication/core/RegisterManager;->f:Ljava/util/Hashtable;

    new-instance v2, Ljava/lang/Integer;

    invoke-direct {v2, p1}, Ljava/lang/Integer;-><init>(I)V

    invoke-virtual {v1, v2, v0}, Ljava/util/Hashtable;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    const-string v1, "RegisterManager"

    new-instance v2, Ljava/lang/StringBuilder;

    const-string v3, "TokensStorage::get("

    invoke-direct {v2, v3}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V

    invoke-virtual {v2, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v2

    const-string v3, ") -> ["

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v0}, Lnet/veritran/vtuserapplication/core/elements/TokenElement;->getValue()Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    const-string v3, "]"

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-static {v1, v2}, Lnet/veritran/vtuserapplication/utils/VTLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    goto/16 :goto_0
.end method

.method public getFixedDefinedRegister(I)Lnet/veritran/vtuserapplication/core/elements/TokenElement;
    .locals 3

    const/4 v2, 0x0

    iget-object v0, p0, Lnet/veritran/vtuserapplication/core/RegisterManager;->g:Ljava/util/Hashtable;

    invoke-static {p1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v1

    invoke-virtual {v0, v1}, Ljava/util/Hashtable;->get(Ljava/lang/Object;)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lnet/veritran/vtuserapplication/core/elements/TokenElement;

    if-nez v0, :cond_0

    new-instance v0, Lnet/veritran/vtuserapplication/core/elements/TokenElement;

    invoke-direct {v0}, Lnet/veritran/vtuserapplication/core/elements/TokenElement;-><init>()V

    invoke-virtual {v0, p1}, Lnet/veritran/vtuserapplication/core/elements/TokenElement;->setId(I)V

    invoke-virtual {v0, v2}, Lnet/veritran/vtuserapplication/core/elements/TokenElement;->setPersistent(Z)V

    invoke-virtual {v0, v2}, Lnet/veritran/vtuserapplication/core/elements/TokenElement;->setEncryted(Z)V

    invoke-virtual {v0, v2}, Lnet/veritran/vtuserapplication/core/elements/TokenElement;->setSecret(Z)V

    iget-object v1, p0, Lnet/veritran/vtuserapplication/core/RegisterManager;->g:Ljava/util/Hashtable;

    invoke-static {p1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    invoke-virtual {v1, v2, v0}, Ljava/util/Hashtable;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    :cond_0
    packed-switch p1, :pswitch_data_0

    const/4 v0, 0x0

    :goto_0
    return-object v0

    :pswitch_0
    invoke-static {}, Lnet/veritran/vtuserapplication/model/Model;->getInstance()Lnet/veritran/vtuserapplication/model/Model;

    move-result-object v1

    invoke-virtual {v1}, Lnet/veritran/vtuserapplication/model/Model;->getPushServiceName()Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Lnet/veritran/vtuserapplication/core/elements/TokenElement;->setValue(Ljava/lang/String;)V

    iget-object v1, p0, Lnet/veritran/vtuserapplication/core/RegisterManager;->g:Ljava/util/Hashtable;

    invoke-static {p1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    invoke-virtual {v1, v2, v0}, Ljava/util/Hashtable;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    goto :goto_0

    nop

    :pswitch_data_0
    .packed-switch 0xea
        :pswitch_0
    .end packed-switch
.end method

.method public init()V
    .locals 0

    return-void
.end method

.method protected isLongTermPersistent(I)Z
    .locals 1

    invoke-super {p0, p1}, Lnet/veritran/vtuserapplication/core/LongTermPersistentData;->isLongTermPersistent(I)Z

    move-result v0

    if-eqz v0, :cond_0

    :goto_0
    return v0

    :cond_0
    iget-object v0, p0, Lnet/veritran/vtuserapplication/core/RegisterManager;->c:[I

    invoke-static {p1, v0}, Lnet/veritran/vtuserapplication/core/RegisterManager;->a(I[I)Z

    move-result v0

    goto :goto_0
.end method

.method protected longTermPersistentFromRange()I
    .locals 1

    const/16 v0, 0x384

    return v0
.end method

.method protected longTermPersistentToRange()I
    .locals 1

    const/16 v0, 0x3e7

    return v0
.end method
